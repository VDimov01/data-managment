/* ===== Segmented control (Create / Select) ===== */
.segmented { display: flex; gap: 8px; }
.segmented__btn {
  border: 1px solid var(--control-border);
  background: var(--control-bg);
  color: var(--control-text);
  border-radius: 999px;
  padding: 6px 10px;
  font-weight: 600;
}
.segmented__btn.is-active {
  background: var(--accent-soft);
  border-color: color-mix(in oklab, var(--accent), white 60%);
}

/* ===== Tabs (Attributes / Images) ===== */
.tabs { display: flex; gap: 8px; }
.tab {
  border: 1px solid var(--control-border);
  background: var(--control-bg);
  color: var(--control-text);
  border-radius: 8px;
  padding: 6px 10px;
  font-weight: 600;
}
.tab.is-active {
  background: var(--accent-soft);
  border-color: color-mix(in oklab, var(--accent), black 10%);
}

/* ===== Layout helpers (scoped to this feature, to avoid polluting global) ===== */
.grid-4 { display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); }
.gap-10 { gap: 10px; }
.mt-12 { margin-top: 12px; }
.mb-12 { margin-bottom: 12px; }
.row-xs { display: inline-flex; gap: 6px; align-items: center; }
.toolbar-row { display: flex; gap: 12px; align-items: center; }
@media (max-width: 980px){ .grid-4{ grid-template-columns: repeat(2, minmax(0,1fr)); } }
@media (max-width: 600px){ .grid-4{ grid-template-columns: 1fr; } }

/* ===== Notices (save summary) ===== */
.notice {
  margin: 8px 0 12px; padding: 8px 10px;
  border: 1px solid; border-radius: 8px;
  font-size: 13px;
}
.notice__header { display: flex; justify-content: space-between; align-items: center; }
.notice__close { border: none; background: transparent; color: inherit; cursor: pointer; font-size: 18px; }
.notice__list { margin: 6px 0 0 16px; }

.notice--success { background: #f0fdf4; border-color: #bbf7d0; color: #166534; }
@media (prefers-color-scheme: dark) {
  .notice--success { background: rgba(16,185,129,.12); border-color: rgba(16,185,129,.45); color: #a7f3d0; }
}
[data-theme="dark"] .notice--success {
  background: rgba(16,185,129,.12); border-color: rgba(16,185,129,.45); color: #a7f3d0;
}

/* ===== Attribute groups ===== */
.fieldset { border: 1px solid var(--border); border-radius: 8px; margin-bottom: 12px; }
.legend { padding: 0 8px; font-weight: 700; }
.grid-attr { display: grid; grid-template-columns: 2fr 1fr 1fr auto; gap: 8px; padding: 12px; }
.grid-attr .th { font-weight: 600; }
.removed { grid-column: 1 / -1; margin-top: 6px; display: flex; flex-wrap: wrap; gap: 6px; align-items: center; }
.btn-sm { padding: 6px 8px; border-radius: 8px; font-size: 12px; }

/* ===== SelectOrCreate (Radix-style) =====
   NOTE: This uses sel-* TOKENS defined globally in index.css
*/
.sel-field { width: 100%; }
.sel-label { display:block; font-size:12px; color:var(--sel-muted); margin:0 0 6px; }

.sel-trigger{
  width:100%; display:flex; align-items:center; justify-content:space-between;
  gap:8px; padding:8px 10px; background:var(--sel-bg); color:var(--sel-fg);
  border:1px solid var(--sel-border); border-radius:8px;
  transition: border-color .15s ease, box-shadow .15s ease, transform .02s ease;
}
.sel-trigger:hover{ border-color: var(--sel-border-hover); }
.sel-trigger:active{ transform: translateY(0.5px); }
.sel-trigger:focus-visible{
  outline:none; border-color:#3b82f6; box-shadow:0 0 0 4px var(--sel-ring);
}
.sel-trigger[data-state="open"]{ border-color:#3b82f6; box-shadow:0 0 0 4px var(--sel-ring); }
.sel-caret{ font-size:12px; opacity:.8; }

.sel-content{
  z-index: var(--sel-popover-z) !important;
  background:var(--sel-bg);
  border:1px solid var(--sel-border); border-radius:10px;
  box-shadow: 0 12px 28px rgba(0,0,0,.16), 0 2px 6px rgba(0,0,0,.08);
  max-height: 260px; overflow: hidden;
  animation: sel-pop .12s ease-out;
}
.sel-viewport{ padding:6px; overflow-y:auto; max-height: 260px; scrollbar-width: thin; }
.sel-viewport::-webkit-scrollbar{ width:10px; }
.sel-viewport::-webkit-scrollbar-thumb{ background:#d4d4d8; border-radius:8px; border:2px solid var(--sel-bg); }
.sel-viewport::-webkit-scrollbar-thumb:hover{ background:#bdbdc2; }

.sel-item{
  position:relative;
  display:flex; align-items:center; justify-content:space-between;
  gap:8px; padding:8px 10px; border-radius:8px; cursor:pointer; user-select:none;
  line-height:1.2; white-space:nowrap;
  transition: background .08s ease;
}
.sel-item:hover{ background: var(--sel-item-hover); }
.sel-item[data-highlighted]{ background: var(--sel-item-hover); outline:none; }
.sel-item[data-state="checked"]{
  background: var(--sel-item-selected);
  font-weight:600;
}
.sel-item:active{ background: var(--sel-item-active); }

.sel-check{ margin-left:12px; font-size:12px; opacity:.9; }
.sel-sep{ height:1px; background:#eee; margin:6px 0; }
.sel-action{ color: var(--sel-action); }

.sel-input{
  width:100%; margin-top:8px; padding:8px 10px; border:1px solid var(--sel-border);
  border-radius:8px; background:var(--sel-bg); color:var(--sel-fg);
}
.sel-input:focus{ outline:none; border-color:#3b82f6; box-shadow:0 0 0 4px var(--sel-ring); }

/* Tiny open/close motion */
@keyframes sel-pop {
  from { opacity:0; transform: translateY(-2px) scale(.98); }
  to   { opacity:1; transform: translateY(0) scale(1); }
}

/* Make sure Radix's wrapper sits above your modal panel */
[data-radix-popper-content-wrapper]{ z-index: var(--sel-popover-z) !important; }
