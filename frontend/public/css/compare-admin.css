/* Container spacing */
.cmp-container { display: grid; gap: 12px; }

/* Preview table inside modal */
.cmp-preview { display: grid; gap: 10px; }
.cmp-preview-scroll { max-width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; }

.cmp-attr-name { font-weight: 700; }
.cmp-attr-meta { color: var(--muted); font-size: 12px; }

/* ----- Compare Form layout ----- */
.cmp-form { display: grid; gap: 12px; }

.cmp-grid {
  display: grid; gap: 10px;
  grid-template-columns: repeat(3, 1fr);
}
.cmp-field { display: grid; gap: 6px; }
.cmp-col-2 { grid-column: span 2; }

@media (max-width: 960px) {
  .cmp-grid { grid-template-columns: repeat(2, 1fr); }
  .cmp-col-2 { grid-column: 1 / -1; }
}
@media (max-width: 560px) {
  .cmp-grid { grid-template-columns: 1fr; }
}

/* Fieldset uses theme tokens */
.cmp-fieldset {
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 10px;
  background: var(--surface);
}
.cmp-fieldset > legend {
  font-weight: 700;
  padding: 0 6px;
}

/* Checkbox row */
.cmp-check {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  user-select: none;
}

/* Basket of selected editions */
.cmp-basket {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-top: 8px;
}

/* Chip */
.cmp-chip {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 6px 10px;
  border-radius: 999px;
  background: var(--accent-soft);
  border: 1px solid color-mix(in oklab, var(--accent), var(--surface) 60%);
  color: var(--text);
  box-shadow: var(--shadow);
  max-width: 100%;
}
.cmp-chip > span { white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

/* Chip close button */
.cmp-chip-x {
  appearance: none;
  border: 0;
  background: transparent;
  cursor: pointer;
  line-height: 1;
  font-weight: 700;
  padding: 0 2px;
  color: var(--text);
}
.cmp-chip-x:hover {
  filter: brightness(1.1);
}

/* Make action buttons sit side-by-side and wrap only if needed */
.cmp-container .actions-col { width: 1%; } /* shrink-to-fit header */
.cmp-container td.actions-cell { white-space: normal; }

.cmp-container .btn-row {
  display: flex;
  align-items: center;
  justify-content: flex-start; /* or flex-end if you prefer right-aligned */
  gap: 8px;
  flex-wrap: wrap;             /* stay on one line if space allows; wrap on small screens */
}

.cmp-container .btn-row .btn {
  white-space: nowrap;         /* keep each button text on one line */
}

/* Optional: give a minimum width so they rarely wrap on tablets/desktops */
@media (min-width: 900px) {
  .cmp-container .actions-col { min-width: 360px; }
}


/* ---------- Mobile column pruning for main list ---------- */
/* Columns: 1:#, 2:Заглавие, 3:Само разлики, 4:Език, 5:Snapshot, 6:Създаден, 7:Действия */

@media (max-width: 800px) {
  /* Hide less critical first: Само разлики, Snapshot */
  .cmp-container table tr > *:nth-child(3),
  .cmp-container table tr > *:nth-child(5) { display: none; }
}

@media (max-width: 680px) {
  /* Hide Език and Създаден */
  .cmp-container table tr > *:nth-child(4),
  .cmp-container table tr > *:nth-child(6) { display: none; }
}

/* Tighten on phones */
@media (max-width: 760px) {
  .cmp-container .table { font-size: 13px; }
  .cmp-container .table td,
  .cmp-container .table th { padding: 8px 10px; }
}

/* Toolbar responsive (leverages global .toolbar rules) */
@media (max-width: 900px) {
  .cmp-container .toolbar { display: grid; gap: 10px; grid-template-columns: 1fr; }
  .cmp-container .toolbar-row { flex-wrap: wrap; }
  .cmp-container .input-search { flex: 1 1 100%; min-width: 0; }
}
